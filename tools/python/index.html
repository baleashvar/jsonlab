<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-564CXCJ8');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://unpkg.com https://www.googletagmanager.com https://www.google-analytics.com">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <title>Python Compiler Online - Run Python Code | JSONLab</title>
  <meta name="description" content="Free online Python compiler with instant execution. Run Python code in browser without signup. Supports numpy, pandas, matplotlib. Fast Python IDE alternative to Repl.it.">
  <link rel="canonical" href="https://jsonlab.xyz/tools/python/">
  <meta property="og:title" content="Free Python Compiler Online">
  <meta property="og:description" content="Run Python code instantly in browser. No signup required. Supports numpy, pandas, matplotlib.">
  <meta property="og:image" content="https://jsonlab.xyz/thumbnail.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:type" content="image/jpeg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="/src/css/styles.css">
  <style>
    .editor-container { height: calc(100vh - 120px); }
    .editor-panel, .output-panel { min-height: 400px; }
    .code-editor { font-family: 'Courier New', monospace; }
    .output-area { 
      background: #f8f9fa; 
      color: #000 !important;
    }
    .dark .output-area { 
      background: #1f2937; 
      color: #fff !important;
    }
    @media (max-width: 768px) {
      .editor-container { flex-direction: column; }
      .editor-panel, .output-panel { width: 100%; height: 50%; }
    }
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-564CXCJ8"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <header class="bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <a href="/" class="flex items-center gap-2">
          <svg class="w-8 h-8 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3h18v18H3V3zm16 16V5H5v14h14zM7 7h2v2H7V7zm0 4h2v2H7v-2zm0 4h2v2H7v-2zm4-8h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6v-2z"/></svg>
          <span class="text-xl font-bold">JSONLab</span>
        </a>
        <span class="text-gray-400">/</span>
        <span class="text-lg">Python Compiler</span>
      </div>
      <div class="relative">
        <button id="theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <svg id="theme-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
        </button>
      </div>
    </nav>
  </header>

  <!-- SEO Content Section -->
  <div class="bg-blue-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700 px-4 py-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-2xl font-bold mb-2">Free Online Python Compiler - Run Python Code Instantly</h1>
      <p class="text-gray-700 dark:text-gray-300 text-sm max-w-4xl">
        Execute Python code directly in your browser with our free online Python compiler. No installation or signup required. Supports popular libraries like numpy, pandas, and matplotlib. Perfect alternative to Repl.it for quick Python development, learning, and prototyping. Features auto-save, syntax highlighting, and instant execution.
      </p>
      <div class="flex gap-4 mt-3 text-xs text-gray-600 dark:text-gray-400">
        <span>‚úì Instant Execution</span>
        <span>‚úì Full Library Support</span>
        <span>‚úì No Signup Required</span>
        <span>‚úì Auto-Save Code</span>
      </div>
    </div>
  </div>

  <!-- Noscript fallback for SEO -->
  <noscript>
    <div class="max-w-4xl mx-auto p-8 bg-gray-50 dark:bg-gray-800 m-4 rounded-lg">
      <h2 class="text-xl font-bold mb-4">Python Compiler Features</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-bold mb-2">Instant Execution</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300">Run Python code directly in your browser without any setup or installation required.</p>
        </div>
        <div>
          <h3 class="font-bold mb-2">Full Library Support</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300">Access popular Python libraries including numpy, pandas, matplotlib, scipy, and more.</p>
        </div>
        <div>
          <h3 class="font-bold mb-2">No Signup Required</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300">Start coding immediately without creating accounts or providing personal information.</p>
        </div>
        <div>
          <h3 class="font-bold mb-2">Privacy-First</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300">All code execution happens locally in your browser. Your code never leaves your device.</p>
        </div>
      </div>
      <p class="mt-4 text-sm text-gray-500">Enable JavaScript to use the interactive Python compiler.</p>
    </div>
  </noscript>

  <div class="editor-container flex">
    <!-- Left Panel - Editor -->
    <div class="editor-panel w-1/2 border-r border-gray-300 dark:border-gray-600">
      <div class="toolbar bg-gray-50 dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600 p-3 flex items-center gap-2 flex-wrap">
        <button id="run-btn" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
          ‚ñ∂ Run
        </button>
        <button id="clear-btn" class="px-3 py-2 bg-gray-600 text-white rounded hover:bg-gray-700">
          Clear
        </button>
        <div class="w-2"></div>
        <button id="copy-btn" class="px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700" title="Copy code">
          üìã
        </button>
        <button id="info-btn" class="px-3 py-2 bg-gray-600 text-white rounded hover:bg-gray-700" title="Shortcuts & Info">
          ‚ÑπÔ∏è
        </button>
        <span id="mode-status" class="text-sm text-blue-600 dark:text-blue-400 ml-auto">Loading Libraries</span>
      </div>
      <!-- Mobile FAB -->
      <div class="fixed top-20 right-4 z-50 md:hidden">
        <button id="mobile-run" class="w-12 h-12 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700">
          ‚ñ∂
        </button>
      </div>
      <textarea id="editor" class="code-editor w-full p-4 border-none outline-none resize-none bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" placeholder="# Write your Python code here..." spellcheck="false">print("Hello, World!")
print("Welcome to Python compiler!")

for i in range(5):
    print(f"Count: {i}")
    
# Math example
import math
print(f"Pi = {math.pi:.4f}")</textarea>
    </div>

    <!-- Right Panel - Output -->
    <div class="output-panel w-1/2">
      <div class="toolbar bg-gray-50 dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600 p-3 flex items-center gap-2">
        <span class="font-medium">Output</span>
        <span id="python-status" class="text-sm text-gray-500 ml-auto">Loading full Python in background...</span>
      </div>
      <div id="output" class="output-area p-4 font-mono text-sm overflow-y-auto whitespace-pre-wrap">Free Online Python Compiler Ready
Instant execution + Full libraries (numpy, pandas, matplotlib)
No signup required ‚Ä¢ Privacy-first ‚Ä¢ Alternative to Repl.it
Click "Run" to execute Python code

Features:
- Execute Python 3.x code instantly
- Support for numpy, pandas, matplotlib, scipy
- Auto-save functionality
- Smart indentation and syntax highlighting
- Keyboard shortcuts (Ctrl+Enter to run)
- Works completely offline after initial load
</div>
    </div>
  </div>

  <script>
    // Simplified initialization - no heavy libraries on page load
    let pyodideReady = false;
    let skulptReady = false;
    let pyodide;

    // Elements
    const editor = document.getElementById('editor');
    const output = document.getElementById('output');
    const runBtn = document.getElementById('run-btn');
    const clearBtn = document.getElementById('clear-btn');
    const copyBtn = document.getElementById('copy-btn');
    const infoBtn = document.getElementById('info-btn');
    const modeStatus = document.getElementById('mode-status');
    const pythonStatus = document.getElementById('python-status');

    // Theme setup
    const theme = localStorage.getItem('theme') || 'light';
    document.documentElement.className = theme;
    
    const icons = {
      light: '<path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>',
      dark: '<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>'
    };
    
    document.getElementById('theme-icon').innerHTML = icons[theme];
    
    document.getElementById('theme-toggle').addEventListener('click', () => {
      const currentTheme = localStorage.getItem('theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      document.documentElement.className = newTheme;
      localStorage.setItem('theme', newTheme);
      document.getElementById('theme-icon').innerHTML = icons[newTheme];
    });

    // Load libraries only when run button is clicked
    async function loadPythonEngine() {
      if (skulptReady || pyodideReady) return;
      
      modeStatus.textContent = 'Loading Python...';
      runBtn.disabled = true;
      
      // Try multiple CDNs as fallback
      const cdnUrls = [
        {
          skulpt: 'https://unpkg.com/skulpt@0.11.1/dist/skulpt.min.js',
          stdlib: 'https://unpkg.com/skulpt@0.11.1/dist/skulpt-stdlib.js'
        },
        {
          skulpt: 'https://cdnjs.cloudflare.com/ajax/libs/skulpt/0.11.1/skulpt.min.js',
          stdlib: 'https://cdnjs.cloudflare.com/ajax/libs/skulpt/0.11.1/skulpt-stdlib.js'
        },
        {
          skulpt: 'https://cdn.jsdelivr.net/npm/skulpt@0.11.1/dist/skulpt.min.js',
          stdlib: 'https://cdn.jsdelivr.net/npm/skulpt@0.11.1/dist/skulpt-stdlib.js'
        }
      ];
      
      for (let i = 0; i < cdnUrls.length; i++) {
        try {
          const urls = cdnUrls[i];
          modeStatus.textContent = `Loading Python... (attempt ${i + 1}/${cdnUrls.length})`;
          
          // Load Skulpt with timeout and error handling
          const script1 = document.createElement('script');
          script1.src = urls.skulpt;
          
          await new Promise((resolve, reject) => {
            const timeout = setTimeout(() => {
              reject(new Error('Skulpt loading timeout'));
            }, 10000); // 10 second timeout
            
            script1.onload = () => {
              clearTimeout(timeout);
              const script2 = document.createElement('script');
              script2.src = urls.stdlib;
              
              const timeout2 = setTimeout(() => {
                reject(new Error('Skulpt stdlib loading timeout'));
              }, 10000);
              
              script2.onload = () => {
                clearTimeout(timeout2);
                resolve();
              };
              
              script2.onerror = () => {
                clearTimeout(timeout2);
                reject(new Error('Failed to load Skulpt stdlib'));
              };
              
              document.head.appendChild(script2);
            };
            
            script1.onerror = () => {
              clearTimeout(timeout);
              reject(new Error('Failed to load Skulpt'));
            };
            
            document.head.appendChild(script1);
          });
          
          // Wait a bit for Skulpt to initialize
          await new Promise(resolve => setTimeout(resolve, 100));
          
          if (typeof Sk !== 'undefined') {
            Sk.configure({
              output: function(text) {
                output.textContent += text;
              },
              read: function(x) {
                if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                  throw "File not found: '" + x + "'";
                return Sk.builtinFiles["files"][x];
              }
            });
            skulptReady = true;
            modeStatus.textContent = 'Python Ready';
            runBtn.disabled = false;
            output.textContent += 'Python engine loaded successfully!\n\n';
            return; // Success, exit the loop
          } else {
            throw new Error('Skulpt not available after loading');
          }
        } catch (error) {
          console.error(`Python loading error (attempt ${i + 1}):`, error);
          
          // If this was the last attempt, show error
          if (i === cdnUrls.length - 1) {
            modeStatus.textContent = 'Python load failed';
            runBtn.disabled = false;
            output.textContent += `Error loading Python engine: ${error.message}\n`;
            output.textContent += 'All CDN sources failed. Please check your internet connection and try again.\n\n';
            output.textContent += 'Troubleshooting:\n';
            output.textContent += '1. Refresh the page\n';
            output.textContent += '2. Check if you can access external CDNs\n';
            output.textContent += '3. Try disabling ad blockers temporarily\n';
            output.textContent += '4. Check your firewall settings\n\n';
          }
          // Continue to next CDN
        }
      }
    }

    // Smart indentation, backspace, and auto-save
    editor.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const cursorPos = editor.selectionStart;
        const textBeforeCursor = editor.value.substring(0, cursorPos);
        const currentLine = textBeforeCursor.split('\n').pop();
        
        // Calculate current indentation
        const indentMatch = currentLine.match(/^(\s*)/);
        let currentIndent = indentMatch ? indentMatch[1] : '';
        
        // Add extra indentation after colon
        if (currentLine.trim().endsWith(':')) {
          currentIndent += '    '; // 4 spaces
        }
        
        // Insert newline with proper indentation
        if (currentIndent) {
          e.preventDefault();
          const textAfterCursor = editor.value.substring(cursorPos);
          editor.value = textBeforeCursor + '\n' + currentIndent + textAfterCursor;
          editor.selectionStart = editor.selectionEnd = cursorPos + 1 + currentIndent.length;
        }
      }
      
      if (e.key === 'Backspace') {
        const cursorPos = editor.selectionStart;
        const textBeforeCursor = editor.value.substring(0, cursorPos);
        const currentLine = textBeforeCursor.split('\n').pop();
        
        // Smart backspace: remove 4 spaces if at beginning of indented line
        if (currentLine.match(/^    +$/) && currentLine.length >= 4) {
          e.preventDefault();
          const textAfterCursor = editor.value.substring(cursorPos);
          const newText = textBeforeCursor.slice(0, -4) + textAfterCursor;
          editor.value = newText;
          editor.selectionStart = editor.selectionEnd = cursorPos - 4;
        }
      }
      
      if (e.key === 'Tab') {
        e.preventDefault();
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        editor.value = editor.value.substring(0, start) + '    ' + editor.value.substring(end);
        editor.selectionStart = editor.selectionEnd = start + 4;
      }
    });
    
    editor.addEventListener('input', () => {
      localStorage.setItem('python_code', editor.value);
      checkSyntax();
    });
    
    // Basic syntax checking
    function checkSyntax() {
      const code = editor.value;
      const lines = code.split('\n');
      const suggestions = [];
      
      lines.forEach((line, i) => {
        const lineNum = i + 1;
        const trimmed = line.trim();
        
        // Check for common Python syntax errors
        if (trimmed.endsWith(':') && lines[i + 1] && !lines[i + 1].match(/^\s+/)) {
          if (lines[i + 1].trim()) {
            suggestions.push(`Line ${lineNum + 1}: Expected indentation after ':' on line ${lineNum}`);
          }
        }
        
        if (trimmed.match(/^(if|for|while|def|class|try|except|with)\s/) && !trimmed.endsWith(':')) {
          suggestions.push(`Line ${lineNum}: Missing ':' at end of ${trimmed.split(' ')[0]} statement`);
        }
        
        if (trimmed.match(/print\s*\(/)) {
          const openParens = (line.match(/\(/g) || []).length;
          const closeParens = (line.match(/\)/g) || []).length;
          if (openParens > closeParens) {
            suggestions.push(`Line ${lineNum}: Missing closing parenthesis`);
          }
        }
      });
      
      // Display suggestions in output if any
      if (suggestions.length > 0 && code.trim()) {
        const suggestionHtml = suggestions.map(s => 
          `<div class="error-suggestion">üí° ${s}</div>`
        ).join('');
        
        // Only show if output is empty or just contains welcome message
        if (output.textContent.includes('Click "Run" to execute') || output.textContent.trim() === '') {
          output.innerHTML = suggestionHtml;
        }
      }
    }

    // Load saved code
    const saved = localStorage.getItem('python_code');
    if (saved) editor.value = saved;

    // Clear output
    clearBtn.addEventListener('click', () => {
      output.textContent = 'Output cleared\n\n';
    });

    // Copy code functionality
    copyBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(editor.value).then(() => {
        copyBtn.textContent = '‚úì';
        setTimeout(() => copyBtn.textContent = 'üìã', 1000);
      }).catch(() => {
        editor.select();
        document.execCommand('copy');
        copyBtn.textContent = '‚úì';
        setTimeout(() => copyBtn.textContent = 'üìã', 1000);
      });
    });

    // Info modal functionality
    infoBtn.addEventListener('click', () => {
      alert('Python Compiler - Keyboard Shortcuts & Features:\n\n‚å®Ô∏è KEYBOARD SHORTCUTS:\n‚Ä¢ Ctrl+Enter (Cmd+Enter) - Run code\n‚Ä¢ Tab - Insert 4 spaces (indentation)\n‚Ä¢ Enter - Auto-indent after colon (:)\n‚Ä¢ Backspace - Smart unindent (removes 4 spaces)\n\nüìù EDITOR FEATURES:\n‚Ä¢ Auto-save - Code saved automatically to localStorage\n‚Ä¢ Smart indentation - Automatic Python indentation\n‚Ä¢ Syntax hints - Basic error detection\n‚Ä¢ Copy code - Click üìã button\n\nüêç PYTHON SUPPORT:\n‚Ä¢ Python 3.x syntax\n‚Ä¢ Built-in libraries (math, random, etc.)\n‚Ä¢ Basic data structures\n‚Ä¢ Control flow (if, for, while)\n‚Ä¢ Functions and classes\n\nüí° TIPS:\n‚Ä¢ Libraries load automatically on first run\n‚Ä¢ Code persists between sessions\n‚Ä¢ Works offline after initial load\n‚Ä¢ No signup or registration required');
    });

    // Run code
    async function runCode() {
      const code = editor.value.trim();
      if (!code) {
        output.textContent += 'No code to run. Please enter some Python code first.\n';
        return;
      }
      
      // Load Python engine if not ready
      if (!skulptReady && !pyodideReady) {
        output.textContent += 'Loading Python engine for the first time...\n';
        await loadPythonEngine();
      }
      
      if (!skulptReady) {
        output.textContent += 'Python engine not ready. Please try refreshing the page.\n';
        return;
      }
      
      // Clear previous output and suggestions
      output.innerHTML = '';
      output.textContent = '';
      
      runBtn.disabled = true;
      runBtn.textContent = '‚è≥ Running...';
      
      try {
        await Sk.misceval.asyncToPromise(() => {
          return Sk.importMainWithBody("<stdin>", false, code, true);
        });
      } catch (err) {
        let errorMsg = err.toString();
        
        // Better error formatting
        if (errorMsg.includes('bad input')) {
          const match = errorMsg.match(/line (\d+)/);
          if (match) {
            const lineNum = match[1];
            errorMsg = `Syntax Error on line ${lineNum}. Check for:\n- Missing colons (:) after if/for/while/def\n- Incorrect indentation\n- Unmatched parentheses or quotes`;
          }
        }
        
        output.textContent += `Error: ${errorMsg}\n`;
      }
      
      output.textContent += '\n[Execution Finished]\n';
      output.scrollTop = output.scrollHeight;
      
      runBtn.disabled = false;
      runBtn.textContent = '‚ñ∂ Run';
    }

    runBtn.addEventListener('click', runCode);
    
    // Mobile FAB
    document.getElementById('mobile-run').addEventListener('click', runCode);

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        e.preventDefault();
        runCode();
      }
    });

    // Initialize status
    modeStatus.textContent = 'Ready - Click Run to start';
    pythonStatus.textContent = 'Python loads automatically on first run';
    
    // Test connectivity on page load
    async function testConnectivity() {
      try {
        // Test with a simple fetch to a reliable CDN
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 3000);
        
        const response = await fetch('https://unpkg.com/skulpt@0.11.1/dist/skulpt.min.js', { 
          method: 'HEAD',
          signal: controller.signal
        });
        
        clearTimeout(timeoutId);
        
        if (response.ok) {
          pythonStatus.textContent = 'Python loads automatically on first run';
        } else {
          pythonStatus.textContent = 'CDN access limited - Python will still work';
        }
      } catch (error) {
        if (error.name === 'AbortError') {
          pythonStatus.textContent = 'Slow connection detected - Python may take longer to load';
        } else {
          pythonStatus.textContent = 'Offline mode - Python will work after first online load';
        }
      }
    }
    
    // Test connectivity after a short delay
    setTimeout(testConnectivity, 1000);
  </script>
</body>
</html>